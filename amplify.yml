version: 1
frontend:
  phases:
    preBuild:
      commands:
        - dotnet restore # Restore dependencies
    build:
      commands:
        - dotnet publish -c Release -o ./publish # Publish app
  artifacts:
    baseDirectory: publish/wwwroot # Output directory for static files
    files:
      - '**/*'
  cache:
    paths:
      - '**/bin'
      - '**/obj'
environment:
  variables:
    ASPNETCORE_ENVIRONMENT: Production
    ASPNETCORE_URLS: http://+:8080